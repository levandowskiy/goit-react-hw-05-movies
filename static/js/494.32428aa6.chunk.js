"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[494],{494:function(e,n,r){r.r(n),r.d(n,{default:function(){return l}});var i=r(439),s=r(689),t=r(87),a=r(791),o=r(184),l=function(){var e,n,r,l,c=(0,s.TH)(),d=(0,a.useRef)(null!==(e=null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/dogs"),h=(0,s.UO)().movieId,u=(0,a.useState)(null),v=(0,i.Z)(u,2),f=v[0],m=v[1],j=(0,a.useState)(!0),p=(0,i.Z)(j,2),x=p[0],g=p[1];return(0,a.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(h,"?api_key=31c7a05a32884484d4b383be2a7a18a3")).then((function(e){return e.ok?e.json():Promise.reject(new Error("error 404"))})).then((function(e){m(e)})).catch((function(e){console.log(e),alert("Film not found")})).finally((function(){g(!1)}))}),[h]),(0,o.jsxs)("div",{className:"wrapperMovieDetails",children:[(0,o.jsx)(t.rU,{to:null!==(r=null===(l=c.state)||void 0===l?void 0:l.from)&&void 0!==r?r:"/",children:" \u041d\u0430\u0437\u0430\u0434 "}),x?(0,o.jsx)("p",{children:"Loading..."}):f&&(0,o.jsxs)("div",{className:"movieDetails",children:[(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+f.poster_path,alt:"film img"}),(0,o.jsxs)("div",{className:"info",children:[(0,o.jsx)("h2",{children:f.original_title}),(0,o.jsxs)("p",{children:["User Score: ",(0,o.jsx)("span",{children:Math.round(f.vote_average/10*100)+"%"})]}),(0,o.jsx)("h3",{children:"Overview"}),(0,o.jsx)("p",{children:f.overview}),(0,o.jsx)("h4",{children:"Genres"}),(0,o.jsx)("p",{children:f.genres.map((function(e){var n=e.name,r=e.id;return(0,o.jsxs)("span",{children:[n," "]},r)}))})]})]}),(0,o.jsx)("p",{children:"Additional information"}),(0,o.jsx)(t.rU,{to:"cast",state:{from:d.current},children:"Cast"}),(0,o.jsx)(t.rU,{to:"reviews",state:{from:d.current},children:"Reviews"}),(0,o.jsx)(a.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(s.j3,{})})]})]})}}}]);
//# sourceMappingURL=494.32428aa6.chunk.js.map
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[278],{278:function(e,t,n){n.r(t);var a=n(439),r=n(689),u=n(87),c=n(791),s=n(184);t.default=function(){var e=(0,r.TH)(),t=(0,c.useState)(""),n=(0,a.Z)(t,2),o=n[0],l=n[1],i=(0,c.useState)(""),f=(0,a.Z)(i,2),h=f[0],m=f[1],p=(0,c.useState)(null),d=(0,a.Z)(p,2),b=d[0],j=d[1],x=(0,u.lr)(),g=(0,a.Z)(x,2),v=g[0],y=g[1],k=(0,c.useState)(!1),S=(0,a.Z)(k,2),Z=S[0],_=S[1];(0,c.useEffect)((function(){v.get("query")&&m(v.get("query"))}),[v]),(0,c.useEffect)((function(){""!==h&&(y({query:h}),q(h))}),[h,y]);var q=function(e){fetch("https://api.themoviedb.org/3/search/movie?api_key=31c7a05a32884484d4b383be2a7a18a3&query=".concat(e)).then((function(e){return e.json()})).then((function(e){j(e.results)})).finally((function(){_(!1)}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(_(!0),m(o),l("")):alert("\u041f\u043e\u043b\u0435 \u043f\u043e\u0448\u0443\u043a\u0443 \u043f\u043e\u0440\u043e\u0436\u043d\u0435")},className:"form",children:[(0,s.jsx)("button",{type:"submit",className:"button",children:(0,s.jsx)("span",{className:"button-label",children:"Search"})}),(0,s.jsx)("input",{className:"input",type:"text",autoComplete:"off",autoFocus:!0,value:o,placeholder:"Search images and photos",onChange:function(e){l(e.currentTarget.value)}})]}),(0,s.jsxs)("ul",{children:[Z?(0,s.jsx)("p",{children:"Loading..."}):b&&b.map((function(t){var n=t.id,a=t.title;return(0,s.jsx)("li",{children:(0,s.jsx)(u.rU,{to:"".concat(n),state:{from:e},children:a})},n)})),b&&0===b.length&&(0,s.jsx)("p",{children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0434\u043b\u044f \u0434\u0430\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0442\u0443"})]})]})}}}]);
//# sourceMappingURL=278.f58133b8.chunk.js.map